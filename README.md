![Logo](https://github.com/user-attachments/assets/c6071a1f-6765-49b6-b293-3980e298e25b)
# ë§Œìˆ˜ë¬´ê°• ë°±ì—”ë“œ

__ê³ ë ¹ì˜ í™˜ìì™€ ë³´í˜¸ì ëª¨ë‘ê°€ ì•ˆì‹¬í•  ìˆ˜ ìˆëŠ”__ ê³µê°„ì„ ë§Œë“¤ê¸° ìœ„í•œ ì•ˆì‹¬ì¼€ì–´ ë° ì»¤ë®¤ë‹ˆí‹° ì„œë¹„ìŠ¤ __ë§Œìˆ˜ë¬´ê°• ì…ë‹ˆë‹¤.__

## ğŸŒŸ ì„œë¹„ìŠ¤ ê¸°ëŠ¥

- __ì•½ ì¼ì • ê´€ë¦¬ ë° ê¸°ë¡__: ì•½ ë³µìš© ìŠ¤ì¼€ì¤„ ì„¤ì • ë° ë³µì•½ ê¸°ë¡ì„ í†µí•´ ì¼€ì–´ ë§´ë²„ê°€ ì•½ì„ ë†“ì¹˜ì§€ ì•Šê³  ë³µìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.
- __ë³‘ì› ì¼ì • ê´€ë¦¬ ë° ê¸°ë¡__: ì¼€ì–´ ë§´ë²„ì˜ ë³‘ì› ì˜ˆì•½ ì¼ì • ê´€ë¦¬ì™€ ë°©ë¬¸ ê¸°ë¡ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
- __ìŒì„± ë©”ì‹œì§€ ê¸°ëŠ¥__: ì¼€ì–´ ë§´ë²„ì™€ ìŒì„± ë©”ì‹œì§€ë¥¼ í†µí•´ í¸ë¦¬í•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ í•  ìˆ˜ ìˆëŠ” ë„êµ¬ì…ë‹ˆë‹¤.
- __ìŒì„± ë©”ì‹œì§€ í…ìŠ¤íŠ¸ ë³€í™˜ (ASR)__: ë…¹ìŒëœ ìŒì„±ì„ ìë™ìœ¼ë¡œ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ì—¬ í¸ë¦¬ì„±ì„ ë†’ì…ë‹ˆë‹¤.
- __ê±´ê°• ì»¤ë®¤ë‹ˆí‹°__: ë‹¤ì–‘í•œ ê±´ê°• ê´€ë ¨ ì£¼ì œì— ëŒ€í•´ ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ê³¼ ì •ë³´ë¥¼ ê³µìœ í•˜ê³  ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì…ë‹ˆë‹¤.
- __ì‚¬ìš©ì ê³„ì • ê´€ë¦¬__: ë³´í˜¸ìì™€ ì¼€ì–´ ë©¤ë²„ë¥¼ ìœ„í•œ ì†ì‰¬ìš´ íšŒì›ê°€ì…, ê³„ì • ê´€ë¦¬ ë° íƒˆí‡´ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ› ï¸  ê¸°ìˆ  ìŠ¤íƒ
- __Java 17__
- __Spring Boot 3.3.1__
- __Gradle__
- __MySQL__
- __Redis__
- __JPA__
- __Whisper__
- __FCM__
- __AWS__

## âœ… ì‚¬ì „ ìš”êµ¬ì‚¬í•­
ì´ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì˜ í™˜ê²½ì´ í•„ìš”í•©ë‹ˆë‹¤:

### ì‚¬ì „ ì„¤ì¹˜
- Java 17
- Gradle
- MySQL
- Redis
- AWS S3 ì‚¬ìš©ì„ ìœ„í•œ AccessKey ë°œê¸‰

### ì™¸ë¶€ API
- Whisperë¥¼ í†µí•œ STT ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ OpenAIì‚¬ì˜ API í† ê·¼
- FCM ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Firebase Project ìƒì„±
- AWS S3 ì‚¬ìš©ì„ ìœ„í•œ AccessKey ë°œê¸‰

## ğŸ–¥ï¸  ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
### 1. í”„ë¡œì íŠ¸ Clone
```
git clone https://github.com/Team-MansuMugang/mansumugang-backend.git
```

### 2. í”„ë¡œì íŠ¸ ì´ë™
```
cd mansumugang-backend
```

### 3. application.yaml ì‘ì„±

ë‹¤ìŒ 3ê°œì˜ íŒŒì¼ì„ `src/main/resources/static` ì•„ë˜ì— ë¶™ì—¬ ë„£ìŠµë‹ˆë‹¤.
```
# application.yaml

spring:
  profiles:
    group:
      local: local-profile, common
      dev: dev-profile, common
      prod: prod-profile, common

server:
  env: blue
```

</br>
</br>

AWSì˜ S3 ë²„í‚·ì´ë¦„, ë¦¬ì „, AccessToken, OpenAI API keyë¥¼ ê¸°ì…í•´ì¤ë‹ˆë‹¤.
```
# application-common.yaml

spring:
  config:
    activate:
      on-profile: common
  servlet:
    multipart:
      maxFileSize: 100MB
      maxRequestSize: 300MB

  jackson:
    default-property-inclusion: NON_NULL
    parser:
      allow-unquoted-control-chars: true

application:
  name:

cloud:
  aws:
    s3:
      bucket: #####
    stack.auto: false
    region.static: #####
    credentials:
      accessKey: #####
      secretKey: #####

  port: 8080
  servlet:
    context-path: /

openai-service:
  api-key: #####
  gpt-model: gpt-3.5-turbo
  audio-model: whisper-1
  http-client:
    read-timeout: 3000
    connect-timeout: 3000
  urls:
    base-url: https://api.openai.com/v1
    chat-url: /chat/completions
    create-transcription-url: /audio/transcriptions

management:
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: '*'
  endpoint:
    health:
      show-details: 'ALWAYS'
  health:
    circuitbreakers:
      enabled: true
```

</br>
MySQL ë£¨íŠ¸ ë¹„ë°€ë²ˆí˜¸ì™€ JWT Secret Keyë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.

```
application-local.yaml

spring:
  config:
    activate:
      on-profile: local-profile
  data:
    redis:
      host: localhost
      port: 6379
  datasource:
    url: jdbc:mysql://localhost:3306/mansumugang_service
    username: root
    password: #####
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect

jwt:
  secret: #####
  access:
    expiration: 86400000
    header: Authorization

  refresh:
    expiration: 1209600000
    header: Authorization-refresh

server:
  port: 8080
serverName: local-server

logging:
  level:
    root: info

file:
  upload:
    image:
      api: http://localhost:8080/images/
      path: src/main/resources/static/images
    audio:
      api: http://localhost:8080/audios/
      path: src/main/resources/static/audios
    postImages:
      api: http://localhost:8080/postImages/
      path: src/main/resources/static/postImages
```

</br>
</br>

### 4. firebase ë¹„ê³µê°œ í‚¤ ê¸°ì…

- firebase í”„ë¡œì íŠ¸ ì„¤ì • > ì„œë¹„ìŠ¤ ê³„ì • > ë¹„ê³µê°œ í‚¤ ìƒì„±ì„ í´ë¦­í•˜ì—¬ ë¹„ê³µê°œ ìƒì„±í•©ë‹ˆë‹¤.
- `src/main/resources/firebase` í´ë”ë¥¼ ìƒì„±í•˜ê³  ë¹„ê³µê°œ í‚¤ íŒŒì¼ ì´ë¦„ì„ `mansumugang-service-firebase-adminsdk-22kx1-d73706ff32.json`ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ í´ë” ì•„ë˜ì— ë¶™ì—¬ ë„£ìŠµë‹ˆë‹¤.

### 5. ì •ì  íŒŒì¼ ì €ì¥ì„ ìœ„í•œ í´ë” ìƒì„±
- `src/main/resources/static` ì•„ë˜ì— `images`, `audios`, `postImages` ì´ë¦„ì˜ 3ê°œì˜ í´ë”ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### 6. í”„ë¡œì íŠ¸ ë¹Œë“œ
```
./gradlew build -x test
```

### 7. í”„ë¡œì íŠ¸ ì‹¤í–‰
```
java -Duser.timezone=Asia/Seoul -Dspring.profiles.active=local -jar ./build/libs/mansumugang-service-0.0.1-SNAPSHOT.jar
```

## ğŸ¥ ë°ëª¨ ì˜ìƒ

[![Video Label](http://img.youtube.com/vi/6WP0Y-pIVe8/0.jpg)](https://youtu.be/6WP0Y-pIVe8?si=HEJ8IRgIGGOGIK5Q)

## ğŸ§‘â€ğŸ’» ê°œë°œì

- [@JSH0905](https://github.com/JSH0905)
- [@minnnisu](https://github.com/minnnisu)
